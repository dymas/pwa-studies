<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sem conexão</title>
    <link rel="shortcut icon" href="/assets/pwa.png" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css"
    />
  </head>
  <body>
    <h1>Você está offline.</h1>
    <div data-offline></div>
    <script>
      if (navigator && navigator.serviceWorker) {
        caches.open('v1').then((cache) => {
          cache.keys().then((keys) => {
            document.querySelector('[data-offline]').innerHTML =
              '<ul>' +
              keys
                .map(
                  (key) =>
                    '<li><a href="' + key.url + '">' + key.url + '</a></li>'
                )
                .join('') +
              '</ul>';
          });
        });
      }
    </script>
  </body>
</html>
